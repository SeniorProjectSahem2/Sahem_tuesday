{"filter":false,"title":"ability.rb","tooltip":"/app/models/ability.rb","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":28,"column":10},"end":{"row":28,"column":12},"action":"remove","lines":["or"],"id":414}],[{"start":{"row":27,"column":44},"end":{"row":27,"column":51},"action":"remove","lines":["banned "],"id":415},{"start":{"row":27,"column":44},"end":{"row":27,"column":45},"action":"insert","lines":["i"]}],[{"start":{"row":27,"column":45},"end":{"row":27,"column":46},"action":"insert","lines":["t"],"id":416}],[{"start":{"row":27,"column":46},"end":{"row":27,"column":47},"action":"insert","lines":["e"],"id":417}],[{"start":{"row":27,"column":47},"end":{"row":27,"column":48},"action":"insert","lines":["m"],"id":418}],[{"start":{"row":27,"column":48},"end":{"row":27,"column":49},"action":"insert","lines":[" "],"id":419}],[{"start":{"row":27,"column":49},"end":{"row":27,"column":50},"action":"insert","lines":[","],"id":420}],[{"start":{"row":27,"column":50},"end":{"row":27,"column":51},"action":"insert","lines":[" "],"id":421}],[{"start":{"row":27,"column":51},"end":{"row":27,"column":56},"action":"insert","lines":[":item"],"id":422}],[{"start":{"row":27,"column":55},"end":{"row":27,"column":56},"action":"remove","lines":["m"],"id":423}],[{"start":{"row":27,"column":54},"end":{"row":27,"column":55},"action":"remove","lines":["e"],"id":424}],[{"start":{"row":27,"column":53},"end":{"row":27,"column":54},"action":"remove","lines":["t"],"id":425}],[{"start":{"row":27,"column":52},"end":{"row":27,"column":53},"action":"remove","lines":["i"],"id":426}],[{"start":{"row":27,"column":52},"end":{"row":27,"column":53},"action":"insert","lines":["s"],"id":427}],[{"start":{"row":27,"column":53},"end":{"row":27,"column":54},"action":"insert","lines":["t"],"id":428}],[{"start":{"row":27,"column":54},"end":{"row":27,"column":55},"action":"insert","lines":["a"],"id":429}],[{"start":{"row":27,"column":55},"end":{"row":27,"column":56},"action":"insert","lines":["r"],"id":430}],[{"start":{"row":27,"column":56},"end":{"row":27,"column":57},"action":"insert","lines":["t"],"id":431}],[{"start":{"row":27,"column":52},"end":{"row":27,"column":57},"action":"remove","lines":["start"],"id":432},{"start":{"row":27,"column":52},"end":{"row":27,"column":62},"action":"insert","lines":["start_date"]}],[{"start":{"row":27,"column":62},"end":{"row":27,"column":63},"action":"insert","lines":[" "],"id":433}],[{"start":{"row":27,"column":63},"end":{"row":27,"column":64},"action":"insert","lines":[","],"id":434}],[{"start":{"row":27,"column":64},"end":{"row":27,"column":65},"action":"insert","lines":[" "],"id":435}],[{"start":{"row":27,"column":65},"end":{"row":27,"column":66},"action":"insert","lines":[":"],"id":436}],[{"start":{"row":27,"column":66},"end":{"row":27,"column":67},"action":"insert","lines":["e"],"id":437}],[{"start":{"row":27,"column":67},"end":{"row":27,"column":68},"action":"insert","lines":["n"],"id":438}],[{"start":{"row":27,"column":66},"end":{"row":27,"column":68},"action":"remove","lines":["en"],"id":439},{"start":{"row":27,"column":66},"end":{"row":27,"column":74},"action":"insert","lines":["end_date"]}],[{"start":{"row":29,"column":11},"end":{"row":30,"column":0},"action":"insert","lines":["",""],"id":440},{"start":{"row":30,"column":0},"end":{"row":30,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":30,"column":8},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":441},{"start":{"row":31,"column":0},"end":{"row":31,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":31,"column":8},"end":{"row":33,"column":11},"action":"insert","lines":["can :update, Rental, :exclude => [ :item , :start_date , :end_date] do |rental|","           rental.item.owner==user","        end"],"id":442}],[{"start":{"row":31,"column":28},"end":{"row":31,"column":75},"action":"remove","lines":[" :exclude => [ :item , :start_date , :end_date]"],"id":443}],[{"start":{"row":31,"column":27},"end":{"row":31,"column":28},"action":"remove","lines":[","],"id":444}],[{"start":{"row":32,"column":11},"end":{"row":32,"column":34},"action":"remove","lines":["rental.item.owner==user"],"id":445},{"start":{"row":32,"column":11},"end":{"row":32,"column":28},"action":"insert","lines":["rental.user==user"]}],[{"start":{"row":27,"column":11},"end":{"row":27,"column":12},"action":"insert","lines":["n"],"id":446}],[{"start":{"row":27,"column":12},"end":{"row":27,"column":13},"action":"insert","lines":["o"],"id":447}],[{"start":{"row":27,"column":13},"end":{"row":27,"column":14},"action":"insert","lines":["t"],"id":448}],[{"start":{"row":27,"column":32},"end":{"row":27,"column":43},"action":"remove","lines":[":exclude =>"],"id":449}],[{"start":{"row":27,"column":13},"end":{"row":27,"column":14},"action":"remove","lines":["t"],"id":450}],[{"start":{"row":27,"column":12},"end":{"row":27,"column":13},"action":"remove","lines":["o"],"id":451}],[{"start":{"row":27,"column":11},"end":{"row":27,"column":12},"action":"remove","lines":["n"],"id":452}],[{"start":{"row":27,"column":30},"end":{"row":27,"column":64},"action":"remove","lines":["[ :item , :start_date , :end_date]"],"id":453}],[{"start":{"row":27,"column":28},"end":{"row":27,"column":30},"action":"remove","lines":["  "],"id":454}],[{"start":{"row":27,"column":28},"end":{"row":27,"column":29},"action":"insert","lines":[" "],"id":455}],[{"start":{"row":27,"column":29},"end":{"row":27,"column":30},"action":"insert","lines":[":"],"id":456}],[{"start":{"row":27,"column":30},"end":{"row":27,"column":31},"action":"insert","lines":["s"],"id":457}],[{"start":{"row":27,"column":31},"end":{"row":27,"column":32},"action":"insert","lines":["t"],"id":458}],[{"start":{"row":27,"column":32},"end":{"row":27,"column":33},"action":"insert","lines":["a"],"id":459}],[{"start":{"row":27,"column":33},"end":{"row":27,"column":34},"action":"insert","lines":["t"],"id":460}],[{"start":{"row":27,"column":34},"end":{"row":27,"column":35},"action":"insert","lines":["u"],"id":461}],[{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"insert","lines":["s"],"id":462}],[{"start":{"row":33,"column":11},"end":{"row":34,"column":0},"action":"insert","lines":["",""],"id":463},{"start":{"row":34,"column":0},"end":{"row":34,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":34,"column":8},"end":{"row":36,"column":11},"action":"insert","lines":["can :update, Rental do |rental|","           rental.user==user","        end"],"id":464}],[{"start":{"row":34,"column":11},"end":{"row":34,"column":12},"action":"insert","lines":["n"],"id":465}],[{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"insert","lines":["o"],"id":466}],[{"start":{"row":34,"column":13},"end":{"row":34,"column":14},"action":"insert","lines":["t"],"id":467}],[{"start":{"row":31,"column":8},"end":{"row":33,"column":11},"action":"remove","lines":["can :update, Rental do |rental|","           rental.user==user","        end"],"id":469},{"start":{"row":31,"column":8},"end":{"row":34,"column":8},"action":"insert","lines":["can :update, Rental, :status do |rental|","           rental.item.owner==user","        end","        "]}],[{"start":{"row":35,"column":13},"end":{"row":35,"column":14},"action":"remove","lines":["t"],"id":470}],[{"start":{"row":35,"column":12},"end":{"row":35,"column":13},"action":"remove","lines":["o"],"id":471}],[{"start":{"row":35,"column":11},"end":{"row":35,"column":12},"action":"remove","lines":["n"],"id":472}],[{"start":{"row":31,"column":11},"end":{"row":31,"column":12},"action":"insert","lines":["n"],"id":473}],[{"start":{"row":31,"column":12},"end":{"row":31,"column":13},"action":"insert","lines":["o"],"id":474}],[{"start":{"row":31,"column":13},"end":{"row":31,"column":14},"action":"insert","lines":["t"],"id":475}],[{"start":{"row":32,"column":11},"end":{"row":32,"column":34},"action":"remove","lines":["rental.item.owner==user"],"id":476},{"start":{"row":32,"column":11},"end":{"row":32,"column":28},"action":"insert","lines":["rental.user==user"]}],[{"start":{"row":13,"column":8},"end":{"row":15,"column":11},"action":"remove","lines":["can :read, Rental do |rental|","          rental.user==user ","        end"],"id":477}],[{"start":{"row":24,"column":30},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":478},{"start":{"row":25,"column":0},"end":{"row":25,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":25,"column":8},"end":{"row":27,"column":11},"action":"insert","lines":["can :read, Rental do |rental|","          rental.user==user ","        end"],"id":479}],[{"start":{"row":28,"column":13},"end":{"row":28,"column":19},"action":"remove","lines":["update"],"id":498},{"start":{"row":28,"column":13},"end":{"row":28,"column":29},"action":"insert","lines":["change_to_accept"]}],[{"start":{"row":28,"column":37},"end":{"row":28,"column":46},"action":"remove","lines":[", :status"],"id":499}],[{"start":{"row":32,"column":30},"end":{"row":32,"column":39},"action":"remove","lines":[", :status"],"id":502}],[{"start":{"row":32,"column":15},"end":{"row":32,"column":22},"action":"remove","lines":[":update"],"id":503},{"start":{"row":32,"column":15},"end":{"row":32,"column":32},"action":"insert","lines":[":change_to_accept"]}],[{"start":{"row":32,"column":8},"end":{"row":34,"column":11},"action":"remove","lines":["cannot :change_to_accept, Rental do |rental|","           rental.user==user","        end"],"id":504}],[{"start":{"row":12,"column":28},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":505},{"start":{"row":13,"column":0},"end":{"row":13,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":13,"column":8},"end":{"row":13,"column":28},"action":"insert","lines":["can :read, Category "],"id":506}],[{"start":{"row":13,"column":13},"end":{"row":13,"column":17},"action":"remove","lines":["read"],"id":507},{"start":{"row":13,"column":13},"end":{"row":13,"column":14},"action":"insert","lines":["L"]}],[{"start":{"row":13,"column":14},"end":{"row":13,"column":15},"action":"insert","lines":["o"],"id":508}],[{"start":{"row":13,"column":15},"end":{"row":13,"column":16},"action":"insert","lines":["c"],"id":509}],[{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"insert","lines":["a"],"id":510}],[{"start":{"row":13,"column":17},"end":{"row":13,"column":18},"action":"insert","lines":["t"],"id":511}],[{"start":{"row":13,"column":13},"end":{"row":13,"column":18},"action":"remove","lines":["Locat"],"id":512},{"start":{"row":13,"column":13},"end":{"row":13,"column":21},"action":"insert","lines":["Location"]}],[{"start":{"row":13,"column":21},"end":{"row":13,"column":22},"action":"insert","lines":[" "],"id":513}],[{"start":{"row":13,"column":13},"end":{"row":13,"column":22},"action":"remove","lines":["Location "],"id":514},{"start":{"row":13,"column":13},"end":{"row":13,"column":14},"action":"insert","lines":["r"]}],[{"start":{"row":13,"column":14},"end":{"row":13,"column":15},"action":"insert","lines":["e"],"id":515}],[{"start":{"row":13,"column":15},"end":{"row":13,"column":16},"action":"insert","lines":["a"],"id":516}],[{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"insert","lines":["d"],"id":517}],[{"start":{"row":13,"column":19},"end":{"row":13,"column":28},"action":"remove","lines":["Category "],"id":518},{"start":{"row":13,"column":19},"end":{"row":13,"column":20},"action":"insert","lines":["L"]}],[{"start":{"row":13,"column":20},"end":{"row":13,"column":21},"action":"insert","lines":["o"],"id":519}],[{"start":{"row":13,"column":21},"end":{"row":13,"column":22},"action":"insert","lines":["c"],"id":520}],[{"start":{"row":13,"column":22},"end":{"row":13,"column":23},"action":"insert","lines":["a"],"id":521}],[{"start":{"row":13,"column":19},"end":{"row":13,"column":23},"action":"remove","lines":["Loca"],"id":522},{"start":{"row":13,"column":19},"end":{"row":13,"column":27},"action":"insert","lines":["Location"]}],[{"start":{"row":21,"column":11},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":523},{"start":{"row":22,"column":0},"end":{"row":22,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":22,"column":8},"end":{"row":24,"column":11},"action":"insert","lines":["can :manage, Item do |item|","          item.user==user","        end"],"id":524}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":19},"action":"remove","lines":["manage"],"id":525},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"insert","lines":["d"]}],[{"start":{"row":22,"column":14},"end":{"row":22,"column":15},"action":"insert","lines":["e"],"id":526}],[{"start":{"row":22,"column":15},"end":{"row":22,"column":16},"action":"insert","lines":["s"],"id":527}],[{"start":{"row":22,"column":16},"end":{"row":22,"column":17},"action":"insert","lines":["t"],"id":528}],[{"start":{"row":22,"column":17},"end":{"row":22,"column":18},"action":"insert","lines":["r"],"id":529}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":18},"action":"remove","lines":["destr"],"id":530},{"start":{"row":22,"column":13},"end":{"row":23,"column":8},"action":"insert","lines":["destroy","        "]}],[{"start":{"row":23,"column":6},"end":{"row":23,"column":8},"action":"remove","lines":["  "],"id":531}],[{"start":{"row":23,"column":4},"end":{"row":23,"column":6},"action":"remove","lines":["  "],"id":532}],[{"start":{"row":23,"column":2},"end":{"row":23,"column":4},"action":"remove","lines":["  "],"id":533}],[{"start":{"row":23,"column":0},"end":{"row":23,"column":2},"action":"remove","lines":["  "],"id":534}],[{"start":{"row":22,"column":20},"end":{"row":23,"column":0},"action":"remove","lines":["",""],"id":535}]]},"ace":{"folds":[],"scrolltop":138,"scrollleft":0,"selection":{"start":{"row":22,"column":20},"end":{"row":22,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":7,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1511630331943,"hash":"35dc2e23a75bd960cb1569a85e347da88e117ecf"}